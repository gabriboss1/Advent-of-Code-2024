from re import findall

with open("input 3.txt") as file:
    data = file.read()

tot, t, enabled = 0, 0, True

for match in findall(r"mul\((\d+),(\d+)\)|(do\(\))|(don't\(\))", data):
    if match[2] or match[3]:
        enabled = bool(match[2])
    else:
        x = int(match[0]) * int(match[1])
        tot += x
        t += x * enabled

print(tot)
print(t)
