from re import findall

with open("input 3.txt") as file:
    data = file.read()

tot1, tot2, enabled = 0, 0, True

for m in findall(r"mul\((\d+),(\d+)\)|(do\(\))|(don't\(\))", data):
    if m[2] or m[3]:
        enabled = bool(m[2])
    else:
        x = int(m[0]) * int(m[1])
        tot1 += x
        tot2 += x * enabled

print(tot1)
print(tot2)
